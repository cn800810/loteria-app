<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport"
  content="width=device-width,
           initial-scale=1.0,
           maximum-scale=1.0,
           user-scalable=no" />

<title>Loteria</title>

<style>
*{
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
}
html,body{
  margin:0;
  padding:0;
  height:100%;
  overflow:hidden; /* ğŸ”’ æ•´ä½“ç¦æ­¢æ»šåŠ¨ */
  background:#f2f2f2;
}

/* æ•´ä¸ª App */
.app{
  height:100vh;
  display:flex;
  flex-direction:column;
}

/* ===== é¡¶éƒ¨ ===== */
.header{
  flex-shrink:0;
  background:#fff;
  border-bottom:1px solid #ddd;
  padding:6px 15px;
  display:grid;
  grid-template-columns:60px 1fr 60px;
  align-items:center;
}
.header span{
  color:#007aff;
  font-size:16px;
}
.header-center{
  text-align:center;
}
.header-center .title{
  font-size:17px;
  font-weight:600;
}
.header-center .sub{
  font-size:12px;
  color:#666;
}

/* ===== ä¸­é—´æ˜¾ç¤ºåŒºï¼ˆå”¯ä¸€å¯æ»šåŠ¨ï¼‰ ===== */
.record-area{
  flex:1;
  overflow-y:auto;
  padding:10px;
}
.record-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:8px;
}
.record-item{
  background:#fff;
  border-radius:6px;
  padding:6px;
  text-align:center;
  font-size:14px;
}

/* ===== åº•éƒ¨åŠŸèƒ½åŒº ===== */
.bottom{
  flex-shrink:0;
  background:#e6e6e6;
  padding:8px;
}
.control-grid{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  gap:8px;
}

/* æŒ‰é’® */
.btn{
  border:none;
  border-radius:6px;
  font-size:16px;
  padding:10px;
}
.gray{background:#d0d0d0}
.red{background:#ff0000;color:#fff}
.green{background:#2ecc71;color:#fff}
.blue{background:#007aff;color:#fff}

.left,.mid,.right{
  display:flex;
  flex-direction:column;
  gap:8px;
}

input{
  height:42px;
  font-size:16px; /* é˜² iOS è‡ªåŠ¨æ”¾å¤§ */
  border-radius:6px;
  border:1px solid #ccc;
  padding:0 8px;
}

.total{
  height:42px;
  background:#fff;
  border-radius:6px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  color:red;
  font-weight:bold;
}
.confirm{
  flex:1;
  font-size:18px;
}
</style>
</head>

<body>
<div class="app">

  <!-- é¡¶éƒ¨ -->
  <div class="header">
    <span>è®°å½•</span>
    <div class="header-center">
      <div class="title">Loteria</div>
      <div class="sub" id="period"></div>
    </div>
    <span style="text-align:right">è®¾ç½®</span>
  </div>

  <!-- ä¸­é—´ -->
  <div class="record-area" id="recordArea">
    <div class="record-grid" id="recordGrid"></div>
  </div>

  <!-- åº•éƒ¨ -->
  <div class="bottom">
    <div class="control-grid">

      <div class="left">
        <input id="input" type="tel" inputmode="numeric" />
        <button id="digitBtn" class="btn gray">2ä½æ•°</button>
        <div class="total">$0</div>
      </div>

      <div class="mid">
        <button id="modeBtn" class="btn gray">å·ç  / æ•°é‡</button>
        <button class="btn red">æ‰“å°</button>
        <button class="btn gray">å…¨éƒ¨æ¸…é™¤</button>
      </div>

      <div class="right">
        <button class="btn green">ç”µå­å•</button>
        <button id="confirmBtn" class="btn blue confirm">ç¡®è®¤</button>
      </div>

    </div>
  </div>

</div>

<script>
/* æ—¥æœŸ */
document.getElementById("period").innerText =
  new Date().toISOString().slice(0,10) + "ï¼»Andyï¼½";

let digit = 2;
let mode = 0;

const input = document.getElementById("input");
const recordGrid = document.getElementById("recordGrid");

/* åªå…è®¸æ•°å­— */
input.addEventListener("input",()=>{
  input.value = input.value.replace(/\D/g,'');
});

/* 2/4 ä½ */
digitBtn.onclick = ()=>{
  digit = digit===2?4:2;
  digitBtn.innerText = digit + "ä½æ•°";
};

/* æ¨¡å¼ */
modeBtn.onclick = ()=>{
  mode = mode===0?1:0;
  modeBtn.innerText = mode===0?"å·ç  / æ•°é‡":"æ•°é‡ / å·ç ";
};

/* ç¡®è®¤ */
function confirmInput(){
  const v = input.value;
  if(!v) return;

  let number, qty;
  if(mode===0){
    number = v.slice(0,digit);
    qty = v.slice(digit);
  }else{
    qty = v.slice(0,v.length-digit);
    number = v.slice(-digit);
  }
  if(!qty) return;

  const d = document.createElement("div");
  d.className="record-item";
  d.innerText=`-${number}- | ${qty}`;
  recordGrid.appendChild(d);
  input.value="";
  recordGrid.scrollTop = recordGrid.scrollHeight;
}

confirmBtn.onclick = confirmInput;
input.addEventListener("keydown",e=>{
  if(e.key==="Enter"){
    e.preventDefault();
    confirmInput();
  }
});
</script>

</body>
</html>
